<template>
  <div class="fix-test">
    <h2>åˆ†ç»„åŠŸèƒ½ä¿®å¤éªŒè¯</h2>

    <section>
      <h3>æœ€ç®€å•çš„åˆ†ç»„æµ‹è¯•</h3>
      <Select
        v-model="value"
        placeholder="æµ‹è¯•å¯æŠ˜å åˆ†ç»„"
        @visible-change="onVisibleChange"
      >
        <OptionGroup
          label="æµ‹è¯•åˆ†ç»„1"
          :collapsible="true"
          :default-collapsed="false"
        >
          <Option label="é€‰é¡¹1" value="1" />
          <Option label="é€‰é¡¹2" value="2" />
          <OptionGroup
            label="æµ‹è¯•åˆ†ç»„2"
            :collapsible="true"
            :default-collapsed="true"
          >
            <Option label="é€‰é¡¹03" value="3" />
            <Option label="é€‰é¡¹04" value="4" />
            <OptionGroup
              label="æµ‹è¯•åˆ†ç»„3"
              :collapsible="true"
              :default-collapsed="false"
            >
              <Option label="é€‰é¡¹05" value="5" />
              <Option label="é€‰é¡¹06" value="6" />
            </OptionGroup>
          </OptionGroup>
        </OptionGroup>
        <OptionGroup
          label="ç‹¬ç«‹åˆ†ç»„"
          :collapsible="true"
          :default-collapsed="false"
        >
          <Option label="ç‹¬ç«‹é€‰é¡¹1" value="independent1" />
          <Option label="ç‹¬ç«‹é€‰é¡¹2" value="independent2" />
        </OptionGroup>
      </Select>
      <p>å½“å‰å€¼: {{ value }}</p>
      <p>ä¸‹æ‹‰æ¡†çŠ¶æ€: {{ dropdownVisible ? 'æ‰“å¼€' : 'å…³é—­' }}</p>
    </section>

    <section>
      <h3>æ— åˆ†ç»„æµ‹è¯•ï¼ˆå¯¹æ¯”ï¼‰</h3>
      <Select v-model="value2" placeholder="æ— åˆ†ç»„é€‰é¡¹">
        <Option label="é€‰é¡¹A" value="a" />
        <Option label="é€‰é¡¹B" value="b" />
      </Select>
      <p>å½“å‰å€¼: {{ value2 }}</p>
    </section>

    <section>
      <h3>ä½¿ç”¨optionså±æ€§ï¼ˆå¯¹æ¯”ï¼‰</h3>
      <Select
        v-model="value3"
        :options="testOptions"
        placeholder="optionså±æ€§"
      />
      <p>å½“å‰å€¼: {{ value3 }}</p>
    </section>
    <section>
      <h3>å¯æœç´¢ + å¯æŠ˜å åˆ†ç»„æµ‹è¯•</h3>
      <Select v-model="value4" placeholder="æœç´¢å¯æŠ˜å åˆ†ç»„" :filterable="true">
        <OptionGroup
          label="å‰ç«¯æŠ€æœ¯"
          :collapsible="true"
          :default-collapsed="false"
        >
          <Option label="Vue.js" value="vue" />
          <Option label="React" value="react" />
          <OptionGroup
            label="æ„å»ºå·¥å…·"
            :collapsible="true"
            :default-collapsed="true"
          >
            <Option label="Vite" value="vite" />
            <Option label="Webpack" value="webpack" />
          </OptionGroup>
        </OptionGroup>
        <OptionGroup
          label="åç«¯æŠ€æœ¯"
          :collapsible="true"
          :default-collapsed="false"
        >
          <Option label="Node.js" value="nodejs" />
          <Option label="Python" value="python" />
        </OptionGroup>
      </Select>
      <p>å½“å‰å€¼: {{ value4 }}</p>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import { Select, Option, OptionGroup } from '../components/Select';

const value = ref('');
const value2 = ref('');
const value3 = ref('');
const value4 = ref('');
const dropdownVisible = ref(false);

const testOptions = [
  { value: 'opt1', label: 'é€‰é¡¹1' },
  { value: 'opt2', label: 'é€‰é¡¹2' },
  { value: 'opt3', label: 'é€‰é¡¹3' },
];

const onVisibleChange = visible => {
  dropdownVisible.value = visible;
  console.log('ğŸ” ä¸‹æ‹‰æ¡†çŠ¶æ€å˜åŒ–:', visible);
};
</script>

<style scoped>
.fix-test {
  padding: 20px;
  max-width: 600px;
  border: 2px solid var(--color-primary);
  border-radius: 8px;
  margin: 20px 0;
}

section {
  margin-bottom: 20px;
  padding: 15px;
  border: 1px solid #eee;
  border-radius: 6px;
  background: #f9f9f9;
}

h2 {
  color: var(--color-primary);
  margin-bottom: 20px;
}

h3 {
  color: #555;
  margin-bottom: 10px;
  font-size: 14px;
}

p {
  margin-top: 8px;
  color: #666;
  font-size: 13px;
  font-weight: bold;
}
</style>
